{"version":3,"sources":["99-twitter/js/flickr/flickrApi.js"],"names":[],"mappings":";MAAO,MAAM,iCAEQ,UAAU;;;;AAFxB,YAAM;;;;;;;;;AAEQ,gBAAU;AAClB,iBADQ,UAAU,CACjB,MAAM,EAAE;gCADD,UAAU;;AAE3B,cAAI,CAAC,MAAM,GAAG,MAAM,CAAC;;AAErB,cAAI,CAAC,MAAM,GAAG,uCAAuC,GACjD,2CAA2C,GAC3C,cAAc,GACd,mBAAmB,CAAC;SACzB;;qBARkB,UAAU;AAU7B,6BAAmB;mBAAA,6BAAC,OAAO,EAAgB;kBAAd,OAAO,gCAAG,EAAE;;AACvC,kBAAI,GAAG,GAAG,IAAI,CAAC,MAAM,GAAG,8BAA8B,GAClD,YAAY,GAAG,OAAO,GACtB,YAAY,GAAG,OAAO,CAAC;;AAE3B,qBAAO,IAAI,CAAC,gBAAgB,CAAE,GAAG,CAAE,CAAC,IAAI,CAAC,UAAC,IAAI,EAAK;AACjD,uBAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;eAC1B,CAAC,CAAC;aACJ;;AAED,6BAAmB;mBAAA,6BAAC,OAAO,EAAE;AAC3B,kBAAI,GAAG,GAAG,IAAI,CAAC,MAAM,GAAG,+BAA+B,GACnD,YAAY,GAAG,OAAO,CAAC;;AAE3B,qBAAO,IAAI,CAAC,gBAAgB,CAAE,GAAG,CAAE,CAAC,IAAI,CAAC,UAAC,IAAI,EAAK;AACjD,uBAAO,IAAI,CAAC,KAAK,CAAC;eACnB,CAAC,CAAC;aACJ;;AAED,4BAAkB;mBAAA,4BAAC,MAAM,EAAE;AACzB,kBAAI,GAAG,GAAG,IAAI,CAAC,MAAM,GAAG,+BAA+B,GACnD,WAAW,GAAG,MAAM,CAAC;;AAEzB,qBAAO,IAAI,CAAC,gBAAgB,CAAE,GAAG,CAAE,CAAC,IAAI,CAAC,UAAC,IAAI,EAAK;AACjD,uBAAO,IAAI,CAAC,MAAM,CAAC;eACpB,CAAC,CAAC;aACJ;;AAED,0BAAgB;mBAAA,0BAAC,GAAG,EAAE;;;AACpB,kBAAI,MAAM,GAAG;AACX,mBAAG,EAAE,GAAG;AACR,wBAAQ,EAAE,MAAM;eACjB,CAAC;;AAEF,qBAAO,MAAM,CAAC,IAAI,CAAE,MAAM,CAAE,CAAC,IAAI,CAAC,UAAC,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAK;AAC5D,oBAAI,IAAI,CAAC,IAAI,KAAK,IAAI,EAAE;AACtB,yBAAO,MAAK,aAAa,CAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,CAAE,CAAC;iBAClD;;AAED,uBAAO,IAAI,CAAC;eACb,CAAC,CAAC,IAAI,CAAE,IAAI,CAAC,WAAW,CAAE,CAAC;aAC7B;;AAED,uBAAa;mBAAA,uBAAC,IAAI,EAAE,QAAQ,EAAE,GAAG,EAAE;AACjC,qBAAO,MAAM,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,CAAE,CAAC;aACxD;;AAED,qBAAW;mBAAA,qBAAC,IAAI,EAAE,QAAQ,EAAE,GAAG,EAAE;AAC/B,qBAAO,CAAC,GAAG,CAAC,sBAAsB,EAAE,IAAI,EAAE,GAAG,CAAC,CAAC;aAChD;;;;eA3DkB,UAAU;;;yBAAV,UAAU","file":"99-twitter/js/flickr/flickrApi.js","sourcesContent":["import jQuery from 'jQuery';\n\nexport default class FlickerApi {\n  constructor(apiKey) {\n    this.apiKey = apiKey;\n\n    this.apiUrl = 'https://api.flickr.com/services/rest/'\n      + '?api_key=28cf340a86abd88329d677a9666ddfef'\n      + '&format=json'\n      + '&nojsoncallback=1';\n  }\n\n  getGalleryFromPlace(placeId, howMany = 20) {\n    let url = this.apiUrl + '&method=flickr.photos.search'\n      + '&place_id=' + placeId\n      + '&per_page=' + howMany;\n\n    return this.makeJsonpRequest( url ).then((data) => {\n      return data.photos.photo;\n    });\n  }\n\n  getImageInformation(imageId) {\n    let url = this.apiUrl + '&method=flickr.photos.getInfo'\n      + '&photo_id=' + imageId;\n\n    return this.makeJsonpRequest( url ).then((data) => {\n      return data.photo;\n    });\n  }\n\n  getUserInformation(userId) {\n    let url = this.apiUrl + '&method=flickr.people.getInfo'\n      + '&user_id=' + userId;\n\n    return this.makeJsonpRequest( url ).then((data) => {\n      return data.person;\n    });\n  }\n\n  makeJsonpRequest(url) {\n    let config = {\n      url: url,\n      dataType: 'json'\n    };\n\n    return jQuery.ajax( config ).then((data, status, response) => {\n      if (data.stat !== 'ok') {\n        return this.rejectRequest( data, response, url );\n      }\n      \n      return data;\n    }).fail( this.reportError );\n  }\n\n  rejectRequest(data, response, url) {\n    return jQuery.Deferred().reject( data, response, url );\n  }\n\n  reportError(data, response, url) {\n    console.log('We got some errors: ', data, url);\n  }\n}"],"sourceRoot":"/source/"}